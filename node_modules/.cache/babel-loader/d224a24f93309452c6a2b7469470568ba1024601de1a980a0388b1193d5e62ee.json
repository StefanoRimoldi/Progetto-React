{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import{useParams}from\"react-router-dom\";import{BounceLoader}from\"react-spinners\";import axios from\"axios\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const SearchResultsPage=()=>{const{content}=useParams();const[articles,setArticles]=useState([]);const[loading,setLoading]=useState(true);const[error,setError]=useState(false);const searchURL=`https://api.nytimes.com/svc/search/v2/articlesearch.json?q=${content}&api-key=30mS33uUBWOVAYffuOfb9rpPZhDzpDjS`;useEffect(()=>{const fetchArticles=async()=>{setLoading(true);setError(false);try{const response=await axios.get(searchURL);setArticles(response.data.response.docs||[]);}catch(error){console.error(\"Error fetching articles:\",error);setError(true);}finally{setLoading(false);}};fetchArticles();},[searchURL]);const formatDate=date=>{const options={year:\"numeric\",month:\"long\",day:\"numeric\"};return new Date(date).toLocaleDateString(\"en-EN\",options);};if(loading){return/*#__PURE__*/_jsx(BounceLoader,{className:\"mx-auto my-36\",color:\"gray\",size:180,\"aria-label\":\"Loading Spinner\"});}if(error||articles.length===0){return/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-[1000px] mx-auto mt-2\",children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"ml-2\",children:[\"Showing results for:\",\" \",/*#__PURE__*/_jsx(\"span\",{className:\"text-xl font-bold capitalize\",children:content})]}),/*#__PURE__*/_jsx(\"p\",{className:\"font-bold text-center mt-3 text-xl p-10\",children:\"No search results found\"})]});}return/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-[840px] mx-auto \",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-full h-[145px] flex items-center pl-4\",children:/*#__PURE__*/_jsxs(\"h2\",{className:\"ml-2 border border-gray-300 px-4 py-2 flex items-center space-x-2\",children:[/*#__PURE__*/_jsxs(\"svg\",{className:\"w-5 h-5 text-gray-500\",xmlns:\"\",viewBox:\"0 0 24 24\",fill:\"none\",stroke:\"currentColor\",strokeWidth:\"2\",children:[/*#__PURE__*/_jsx(\"circle\",{cx:\"10\",cy:\"10\",r:\"7\"}),/*#__PURE__*/_jsx(\"line\",{x1:\"16\",y1:\"16\",x2:\"21\",y2:\"21\"})]}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-md font-semibold text-gray-800\",children:[\"Showing results for:\",\" \",/*#__PURE__*/_jsx(\"span\",{className:\"text-lg font-bold capitalize text-black\",children:content})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-6 mt-4\",children:articles.map((article,index)=>{var _article$headline,_article$byline,_article$multimedia,_article$multimedia$,_article$headline2;return/*#__PURE__*/_jsxs(\"article\",{className:\"bg-white flex flex-col md:flex-row border-b border-gray-300 py-4 px-2 sm:px-4\",role:\"article\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 pl-4 pr-8\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"uppercase text-sm text-gray-600 font-medium mb-2\",children:article.section_name||\"General\"}),/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold text-gray-900 mb-2\",children:/*#__PURE__*/_jsx(\"a\",{href:article.web_url,target:\"_blank\",rel:\"noopener noreferrer\",className:\"hover:text-indigo-600\",children:(_article$headline=article.headline)===null||_article$headline===void 0?void 0:_article$headline.main})}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 mb-4 line-clamp-5 overflow-hidden\",children:article.abstract||article.lead_paragraph}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center text-sm text-gray-500 mb-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"mr-4\",children:/*#__PURE__*/_jsx(\"span\",{children:(_article$byline=article.byline)===null||_article$byline===void 0?void 0:_article$byline.original})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"span\",{children:formatDate(article.pub_date)})})]})]}),/*#__PURE__*/_jsx(\"img\",{src:(_article$multimedia=article.multimedia)!==null&&_article$multimedia!==void 0&&(_article$multimedia$=_article$multimedia[0])!==null&&_article$multimedia$!==void 0&&_article$multimedia$.url?`https://www.nytimes.com/${article.multimedia[0].url}`:\"https://images.unsplash.com/photo-1633613286991-611fe299c4be\",alt:((_article$headline2=article.headline)===null||_article$headline2===void 0?void 0:_article$headline2.main)||\"Article image\",className:\"w-full md:w-[205px] h-[195px] object-cover md:ml-4 mt-4 md:mt-0\",onError:e=>{e.target.onerror=null;}})]},index);})})]});};export default SearchResultsPage;","map":{"version":3,"names":["React","useState","useEffect","useParams","BounceLoader","axios","jsx","_jsx","jsxs","_jsxs","SearchResultsPage","content","articles","setArticles","loading","setLoading","error","setError","searchURL","fetchArticles","response","get","data","docs","console","formatDate","date","options","year","month","day","Date","toLocaleDateString","className","color","size","length","children","xmlns","viewBox","fill","stroke","strokeWidth","cx","cy","r","x1","y1","x2","y2","map","article","index","_article$headline","_article$byline","_article$multimedia","_article$multimedia$","_article$headline2","role","section_name","href","web_url","target","rel","headline","main","abstract","lead_paragraph","byline","original","pub_date","src","multimedia","url","alt","onError","e","onerror"],"sources":["C:/Users/Stefano Rimoldi/Desktop/Progetto React di Stefano Rimoldi/src/pages/SearchResultsPage.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport { BounceLoader } from \"react-spinners\";\nimport axios from \"axios\";\n\nconst SearchResultsPage = () => {\n  const { content } = useParams();\n  const [articles, setArticles] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(false);\n\n  const searchURL = `https://api.nytimes.com/svc/search/v2/articlesearch.json?q=${content}&api-key=30mS33uUBWOVAYffuOfb9rpPZhDzpDjS`;\n\n  useEffect(() => {\n    const fetchArticles = async () => {\n      setLoading(true);\n      setError(false);\n      try {\n        const response = await axios.get(searchURL);\n        setArticles(response.data.response.docs || []);\n      } catch (error) {\n        console.error(\"Error fetching articles:\", error);\n        setError(true);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchArticles();\n  }, [searchURL]);\n\n  const formatDate = (date) => {\n    const options = {\n      year: \"numeric\",\n      month: \"long\",\n      day: \"numeric\",\n    };\n\n    return new Date(date).toLocaleDateString(\"en-EN\", options);\n  };\n\n  if (loading) {\n    return (\n      <BounceLoader\n        className=\"mx-auto my-36\"\n        color=\"gray\"\n        size={180}\n        aria-label=\"Loading Spinner\"\n      />\n    );\n  }\n\n  if (error || articles.length === 0) {\n    return (\n      <div className=\"max-w-[1000px] mx-auto mt-2\">\n        <h2 className=\"ml-2\">\n          Showing results for:{\" \"}\n          <span className=\"text-xl font-bold capitalize\">{content}</span>\n        </h2>\n        <p className=\"font-bold text-center mt-3 text-xl p-10\">\n          No search results found\n        </p>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"max-w-[840px] mx-auto \">\n      <div className=\"w-full h-[145px] flex items-center pl-4\">\n      <h2 className=\"ml-2 border border-gray-300 px-4 py-2 flex items-center space-x-2\">\n        <svg\n          className=\"w-5 h-5 text-gray-500\"\n          xmlns=\"\"\n          viewBox=\"0 0 24 24\"\n          fill=\"none\"\n          stroke=\"currentColor\"\n          strokeWidth=\"2\"\n        >\n          <circle cx=\"10\" cy=\"10\" r=\"7\" />\n          <line x1=\"16\" y1=\"16\" x2=\"21\" y2=\"21\" />\n        </svg>\n        <span className=\"text-md font-semibold text-gray-800\">\n          Showing results for:{\" \"}\n          <span className=\"text-lg font-bold capitalize text-black\">\n            {content}\n          </span>\n        </span>\n      </h2>\n      </div>\n\n      <div className=\"space-y-6 mt-4\">\n        {articles.map((article, index) => (\n          <article\n            key={index}\n            className=\"bg-white flex flex-col md:flex-row border-b border-gray-300 py-4 px-2 sm:px-4\"\n            role=\"article\"\n          >\n            <div className=\"flex-1 pl-4 pr-8\">\n              <span className=\"uppercase text-sm text-gray-600 font-medium mb-2\">\n                {article.section_name || \"General\"}\n              </span>\n              {/* Titolo */}\n              <h2 className=\"text-xl font-semibold text-gray-900 mb-2\">\n                <a\n                  href={article.web_url} \n                  target=\"_blank\"          \n                  rel=\"noopener noreferrer\"\n                  className=\"hover:text-indigo-600\"\n                >\n                  {article.headline?.main}\n                </a>\n              </h2>\n              <p className=\"text-gray-600 mb-4 line-clamp-5 overflow-hidden\">\n                {article.abstract || article.lead_paragraph}\n              </p>\n              <div className=\"flex items-center text-sm text-gray-500 mb-3\">\n                <div className=\"mr-4\">\n                  <span>{article.byline?.original}</span>\n                </div>\n                <div>\n                  <span>{formatDate(article.pub_date)}</span>\n                </div>\n              </div>\n            </div>\n\n            <img\n              src={\n                article.multimedia?.[0]?.url\n                  ? `https://www.nytimes.com/${article.multimedia[0].url}`\n                  : \"https://images.unsplash.com/photo-1633613286991-611fe299c4be\"\n              }\n              alt={article.headline?.main || \"Article image\"}\n              className=\"w-full md:w-[205px] h-[195px] object-cover md:ml-4 mt-4 md:mt-0\"\n              onError={(e) => {\n                e.target.onerror = null;\n              }}\n            />\n          </article>\n        ))}\n      </div>\n    </div>\n  );\n};\n\nexport default SearchResultsPage;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}